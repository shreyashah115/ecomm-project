(self.webpackChunkecomm_store_project=self.webpackChunkecomm_store_project||[]).push([[66],{7066:(e,t,n)=>{"use strict";var r,o=(r=n(7294))&&"object"==typeof r&&"default"in r?r.default:r;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var v=void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},h=v.performance||{},y=(h.now||h.mozNow||h.msNow||h.oNow||h.webkitNow,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{});function d(e,t){return e(t={exports:{}},t.exports),t.exports}var b=d((function(e,t){!function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,d=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,m=e?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var v=e.type;switch(v){case s:case f:case o:case a:case i:case p:return v;default:var d=v&&v.$$typeof;switch(d){case u:case l:case y:case h:case c:return d;default:return t}}case r:return t}}}var w=s,j=f,O=u,E=c,k=n,C=l,P=o,L=y,S=h,A=r,x=a,T=i,I=p,D=!1;function R(e){return _(e)===f}t.AsyncMode=w,t.ConcurrentMode=j,t.ContextConsumer=O,t.ContextProvider=E,t.Element=k,t.ForwardRef=C,t.Fragment=P,t.Lazy=L,t.Memo=S,t.Portal=A,t.Profiler=x,t.StrictMode=T,t.Suspense=I,t.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||_(e)===s},t.isConcurrentMode=R,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===l},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===a||e===i||e===p||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===c||e.$$typeof===u||e.$$typeof===l||e.$$typeof===b||e.$$typeof===g||e.$$typeof===m||e.$$typeof===d)},t.typeOf=_}()})),g=(b.AsyncMode,b.ConcurrentMode,b.ContextConsumer,b.ContextProvider,b.Element,b.ForwardRef,b.Fragment,b.Lazy,b.Memo,b.Portal,b.Profiler,b.StrictMode,b.Suspense,b.isAsyncMode,b.isConcurrentMode,b.isContextConsumer,b.isContextProvider,b.isElement,b.isForwardRef,b.isFragment,b.isLazy,b.isMemo,b.isPortal,b.isProfiler,b.isStrictMode,b.isSuspense,b.isValidElementType,b.typeOf,d((function(e){e.exports=b}))),m=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;function j(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var O,E=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=j(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))_.call(n,a)&&(o[a]=n[a]);if(m){r=m(n);for(var c=0;c<r.length;c++)w.call(n,r[c])&&(o[r[c]]=n[r[c]])}}return o},k="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",C={},P=Function.call.bind(Object.prototype.hasOwnProperty);function L(e,t,n,r,o){for(var i in e)if(P(e,i)){var a;try{if("function"!=typeof e[i]){var c=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw c.name="Invariant Violation",c}a=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}if(!a||a instanceof Error||O((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in C)){C[a.message]=!0;var u=o?o():"";O("Failed "+n+" type: "+a.message+(null!=u?u:""))}}}O=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},L.resetWarningCache=function(){C={}};var S,A=L,x=Function.call.bind(Object.prototype.hasOwnProperty);function T(){return null}S=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var I,D=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r="<<anonymous>>",o={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:c(T),arrayOf:function(e){return c((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var c=t[n];if(!Array.isArray(c))return new a("Invalid "+o+" `"+i+"` of type `"+f(c)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<c.length;u++){var s=e(c,u,r,o,i+"["+u+"]",k);if(s instanceof Error)return s}return null}))},element:c((function(t,n,r,o,i){var c=t[n];return e(c)?null:new a("Invalid "+o+" `"+i+"` of type `"+f(c)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:c((function(e,t,n,r,o){var i=e[t];return g.isValidElementType(i)?null:new a("Invalid "+r+" `"+o+"` of type `"+f(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return c((function(t,n,o,i,c){if(!(t[n]instanceof e)){var u=e.name||r;return new a("Invalid "+i+" `"+c+"` of type `"+(((s=t[n]).constructor&&s.constructor.name?s.constructor.name:r)+"` supplied to `")+o+"`, expected instance of `"+u+"`.")}var s;return null}))},node:c((function(e,t,n,r,o){return s(e[t])?null:new a("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return c((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var c=t[n],u=f(c);if("object"!==u)return new a("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var s in c)if(x(c,s)){var l=e(c,s,r,o,i+"."+s,k);if(l instanceof Error)return l}return null}))},oneOf:function(e){if(!Array.isArray(e))return S(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),T;function t(t,n,r,o,c){for(var u=t[n],s=0;s<e.length;s++)if(i(u,e[s]))return null;var f=JSON.stringify(e,(function(e,t){return"symbol"===l(t)?String(t):t}));return new a("Invalid "+o+" `"+c+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+f+".")}return c(t)},oneOfType:function(e){if(!Array.isArray(e))return S("Invalid argument supplied to oneOfType, expected an instance of array."),T;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return S("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+p(n)+" at index "+t+"."),T}return c((function(t,n,r,o,i){for(var c=0;c<e.length;c++)if(null==(0,e[c])(t,n,r,o,i,k))return null;return new a("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(e){return c((function(t,n,r,o,i){var c=t[n],u=f(c);if("object"!==u)return new a("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var s in e){var l=e[s];if(l){var p=l(c,s,r,o,i+"."+s,k);if(p)return p}}return null}))},exact:function(e){return c((function(t,n,r,o,i){var c=t[n],u=f(c);if("object"!==u)return new a("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var s=E({},t[n],e);for(var l in s){var p=e[l];if(!p)return new a("Invalid "+o+" `"+i+"` key `"+l+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=p(c,l,r,o,i+"."+l,k);if(v)return v}return null}))}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e){this.message=e,this.stack=""}function c(e){var n={},o=0;function i(i,c,u,s,f,l,p){if(s=s||r,l=l||u,p!==k){if(t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}if("undefined"!=typeof console){var h=s+":"+u;!n[h]&&o<3&&(S("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+s+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[h]=!0,o++)}}return null==c[u]?i?null===c[u]?new a("The "+f+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`."):new a("The "+f+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(c,u,s,f,l)}var c=i.bind(null,!1);return c.isRequired=i.bind(null,!0),c}function u(e){return c((function(t,n,r,o,i,c){var u=t[n];return f(u)!==e?new a("Invalid "+o+" `"+i+"` of type `"+l(u)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function s(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(s);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!s(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!s(a[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function l(e){if(null==e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function p(e){var t=l(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,o.checkPropTypes=A,o.resetWarningCache=A.resetWarningCache,o.PropTypes=o,o},R=d((function(e){var t=g;e.exports=D(t.isElement,!0)})),M=d((function(e){!function(t){var n,r={},o={16:!1,18:!1,17:!1,91:!1},i="all",a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},c={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},u=function(e){return c[e]||e.toUpperCase().charCodeAt(0)},s=[];for(n=1;n<20;n++)c["f"+n]=111+n;function f(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function l(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function v(e){for(n in o)o[n]=e[p[n]]}function h(e,t,n){var o,i;o=d(e),void 0===n&&(n=t,t="all");for(var a=0;a<o.length;a++)i=[],(e=o[a].split("+")).length>1&&(i=b(e),e=[e[e.length-1]]),e=e[0],(e=u(e))in r||(r[e]=[]),r[e].push({shortcut:o[a],scope:t,method:n,key:o[a],mods:i})}for(n in a)h[n]=!1;function y(){return i||"all"}function d(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function b(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=a[t[n]];return t}function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}g(document,"keydown",(function(e){!function(e){var t,n,i,c,u,l;if(t=e.keyCode,-1==f(s,t)&&s.push(t),93!=t&&224!=t||(t=91),t in o)for(i in o[t]=!0,a)a[i]==t&&(h[i]=!0);else if(v(e),h.filter.call(this,e)&&t in r)for(l=y(),c=0;c<r[t].length;c++)if((n=r[t][c]).scope==l||"all"==n.scope){for(i in u=n.mods.length>0,o)(!o[i]&&f(n.mods,+i)>-1||o[i]&&-1==f(n.mods,+i))&&(u=!1);(0!=n.mods.length||o[16]||o[18]||o[17]||o[91])&&!u||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),g(document,"keyup",(function(e){var t,n=e.keyCode,r=f(s,n);if(r>=0&&s.splice(r,1),93!=n&&224!=n||(n=91),n in o)for(t in o[n]=!1,a)a[t]==n&&(h[t]=!1)})),g(window,"focus",(function(){for(n in o)o[n]=!1;for(n in a)h[n]=!1}));var m=t.key;t.key=h,t.key.setScope=function(e){i=e||"all"},t.key.getScope=y,t.key.deleteScope=function(e){var t,n,o;for(t in r)for(n=r[t],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=u(e)),-1!=f(s,e)},t.key.getPressedKeyCodes=function(){return s.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=m,e},t.key.unbind=function(e,t){var n,o,i,a,c,s=[];for(n=d(e),a=0;a<n.length;a++){if((o=n[a].split("+")).length>1&&(s=b(o),e=o[o.length-1]),e=u(e),void 0===t&&(t=y()),!r[e])return;for(i=0;i<r[e].length;i++)(c=r[e][i]).scope===t&&l(c.mods,s)&&(r[e][i]={})}},e.exports=h}(y)})),N={HARD_DROP:"HARD_DROP",MOVE_DOWN:"MOVE_DOWN",MOVE_LEFT:"MOVE_LEFT",MOVE_RIGHT:"MOVE_RIGHT",FLIP_CLOCKWISE:"FLIP_CLOCKWISE",FLIP_COUNTERCLOCKWISE:"FLIP_COUNTERCLOCKWISE",PAUSE:"PAUSE",RESUME:"RESUME",HOLD:"HOLD"},F={PAUSED:"PAUSED",PLAYING:"PLAYING",LOST:"LOST"},U={LINE_CLEARED:"LINE_CLEARED",PLAYER_LOST:"PLAYER_LOST"},V=10,z=20;I=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var $,W=function(e,t,n,r,o,i,a,c){if(I(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,c],f=0;(u=new Error(t.replace(/%s/g,(function(){return s[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},B=d((function(e,t){t.__esModule=!0;var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||W(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||W(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||W(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]||W(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&W(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=n}));($=B)&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")&&$.default;var q=new B;q.handleViewAction=function(e){this.dispatch({source:"VIEW_ACTION",action:e})};var H=N,K={moveDown:function(e){q.handleViewAction({actionType:H.MOVE_DOWN,piece:e})},moveLeft:function(e){q.handleViewAction({actionType:H.MOVE_LEFT,piece:e})},moveRight:function(e){q.handleViewAction({actionType:H.MOVE_RIGHT,piece:e})},hardDrop:function(e){q.handleViewAction({actionType:H.HARD_DROP,piece:e})},flipClockwise:function(e){q.handleViewAction({actionType:H.FLIP_CLOCKWISE,piece:e})},flipCounterclockwise:function(e){q.handleViewAction({actionType:H.FLIP_COUNTERCLOCKWISE,piece:e})},pause:function(){q.handleViewAction({actionType:H.PAUSE})},resume:function(){q.handleViewAction({actionType:H.RESUME})},hold:function(){q.handleViewAction({actionType:H.HOLD})}};var G=function(){this.__data__=[],this.size=0};var Y=function(e,t){return e===t||e!=e&&t!=t};var J=function(e,t){for(var n=e.length;n--;)if(Y(e[n][0],t))return n;return-1},Q=Array.prototype.splice;var X=function(e){var t=this.__data__,n=J(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,!0)};var Z=function(e){var t=this.__data__,n=J(t,e);return n<0?void 0:t[n][1]};var ee=function(e){return J(this.__data__,e)>-1};var te=function(e,t){var n=this.__data__,r=J(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=G,ne.prototype.delete=X,ne.prototype.get=Z,ne.prototype.has=ee,ne.prototype.set=te;var re=ne;var oe=function(){this.__data__=new re,this.size=0};var ie=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ae=function(e){return this.__data__.get(e)};var ce=function(e){return this.__data__.has(e)},ue="object"==typeof y&&y&&y.Object===Object&&y,se="object"==typeof self&&self&&self.Object===Object&&self,fe=ue||se||Function("return this")(),le=fe.Symbol,pe=Object.prototype,ve=pe.hasOwnProperty,he=pe.toString,ye=le?le.toStringTag:void 0;var de=function(e){var t=ve.call(e,ye),n=e[ye];try{e[ye]=void 0;var r=!0}catch(e){}var o=he.call(e);return r&&(t?e[ye]=n:delete e[ye]),o},be=Object.prototype.toString;var ge=function(e){return be.call(e)},me=le?le.toStringTag:void 0;var _e=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":me&&me in Object(e)?de(e):ge(e)};var we=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var je,Oe=function(e){if(!we(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ee=fe["__core-js_shared__"],ke=(je=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+je:"";var Ce=function(e){return!!ke&&ke in e},Pe=Function.prototype.toString;var Le=function(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Se=/^\[object .+?Constructor\]$/,Ae=Function.prototype,xe=Object.prototype,Te=Ae.toString,Ie=xe.hasOwnProperty,De=RegExp("^"+Te.call(Ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Re=function(e){return!(!we(e)||Ce(e))&&(Oe(e)?De:Se).test(Le(e))};var Me=function(e,t){return null==e?void 0:e[t]};var Ne=function(e,t){var n=Me(e,t);return Re(n)?n:void 0},Fe=Ne(fe,"Map"),Ue=Ne(Object,"create");var Ve=function(){this.__data__=Ue?Ue(null):{},this.size=0};var ze=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$e=Object.prototype.hasOwnProperty;var We=function(e){var t=this.__data__;if(Ue){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return $e.call(t,e)?t[e]:void 0},Be=Object.prototype.hasOwnProperty;var qe=function(e){var t=this.__data__;return Ue?void 0!==t[e]:Be.call(t,e)};var He=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ue&&void 0===t?"__lodash_hash_undefined__":t,this};function Ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ke.prototype.clear=Ve,Ke.prototype.delete=ze,Ke.prototype.get=We,Ke.prototype.has=qe,Ke.prototype.set=He;var Ge=Ke;var Ye=function(){this.size=0,this.__data__={hash:new Ge,map:new(Fe||re),string:new Ge}};var Je=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Qe=function(e,t){var n=e.__data__;return Je(t)?n["string"==typeof t?"string":"hash"]:n.map};var Xe=function(e){var t=Qe(this,e).delete(e);return this.size-=t?1:0,t};var Ze=function(e){return Qe(this,e).get(e)};var et=function(e){return Qe(this,e).has(e)};var tt=function(e,t){var n=Qe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function nt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}nt.prototype.clear=Ye,nt.prototype.delete=Xe,nt.prototype.get=Ze,nt.prototype.has=et,nt.prototype.set=tt;var rt=nt;var ot=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!Fe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rt(r)}return n.set(e,t),this.size=n.size,this};function it(e){var t=this.__data__=new re(e);this.size=t.size}it.prototype.clear=oe,it.prototype.delete=ie,it.prototype.get=ae,it.prototype.has=ce,it.prototype.set=ot;var at=it;var ct=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ut=function(){try{var e=Ne(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var st=function(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ft=Object.prototype.hasOwnProperty;var lt=function(e,t,n){var r=e[t];ft.call(e,t)&&Y(r,n)&&(void 0!==n||t in e)||st(e,t,n)};var pt=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?st(n,c,u):lt(n,c,u)}return n};var vt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var ht=function(e){return null!=e&&"object"==typeof e};var yt=function(e){return ht(e)&&"[object Arguments]"==_e(e)},dt=Object.prototype,bt=dt.hasOwnProperty,gt=dt.propertyIsEnumerable,mt=yt(function(){return arguments}())?yt:function(e){return ht(e)&&bt.call(e,"callee")&&!gt.call(e,"callee")},_t=Array.isArray;var wt=function(){return!1},jt=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?fe.Buffer:void 0,i=(o?o.isBuffer:void 0)||wt;e.exports=i})),Ot=/^(?:0|[1-9]\d*)$/;var Et=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ot.test(e))&&e>-1&&e%1==0&&e<t};var kt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ct={};Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct["[object Arguments]"]=Ct["[object Array]"]=Ct["[object ArrayBuffer]"]=Ct["[object Boolean]"]=Ct["[object DataView]"]=Ct["[object Date]"]=Ct["[object Error]"]=Ct["[object Function]"]=Ct["[object Map]"]=Ct["[object Number]"]=Ct["[object Object]"]=Ct["[object RegExp]"]=Ct["[object Set]"]=Ct["[object String]"]=Ct["[object WeakMap]"]=!1;var Pt=function(e){return ht(e)&&kt(e.length)&&!!Ct[_e(e)]};var Lt=function(e){return function(t){return e(t)}},St=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&ue.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),At=St&&St.isTypedArray,xt=At?Lt(At):Pt,Tt=Object.prototype.hasOwnProperty;var It=function(e,t){var n=_t(e),r=!n&&mt(e),o=!n&&!r&&jt(e),i=!n&&!r&&!o&&xt(e),a=n||r||o||i,c=a?vt(e.length,String):[],u=c.length;for(var s in e)!t&&!Tt.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Et(s,u))||c.push(s);return c},Dt=Object.prototype;var Rt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Dt)};var Mt=function(e,t){return function(n){return e(t(n))}},Nt=Mt(Object.keys,Object),Ft=Object.prototype.hasOwnProperty;var Ut=function(e){if(!Rt(e))return Nt(e);var t=[];for(var n in Object(e))Ft.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Vt=function(e){return null!=e&&kt(e.length)&&!Oe(e)};var zt=function(e){return Vt(e)?It(e):Ut(e)};var $t=function(e,t){return e&&pt(t,zt(t),e)};var Wt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Bt=Object.prototype.hasOwnProperty;var qt=function(e){if(!we(e))return Wt(e);var t=Rt(e),n=[];for(var r in e)("constructor"!=r||!t&&Bt.call(e,r))&&n.push(r);return n};var Ht=function(e){return Vt(e)?It(e,!0):qt(e)};var Kt=function(e,t){return e&&pt(t,Ht(t),e)},Gt=d((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?fe.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}));var Yt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Jt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Qt=function(){return[]},Xt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,en=Zt?function(e){return null==e?[]:(e=Object(e),Jt(Zt(e),(function(t){return Xt.call(e,t)})))}:Qt;var tn=function(e,t){return pt(e,en(e),t)};var nn=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},rn=Mt(Object.getPrototypeOf,Object),on=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)nn(t,en(e)),e=rn(e);return t}:Qt;var an=function(e,t){return pt(e,on(e),t)};var cn=function(e,t,n){var r=t(e);return _t(e)?r:nn(r,n(e))};var un=function(e){return cn(e,zt,en)};var sn=function(e){return cn(e,Ht,on)},fn=Ne(fe,"DataView"),ln=Ne(fe,"Promise"),pn=Ne(fe,"Set"),vn=Ne(fe,"WeakMap"),hn="[object Map]",yn="[object Promise]",dn="[object Set]",bn="[object WeakMap]",gn="[object DataView]",mn=Le(fn),_n=Le(Fe),wn=Le(ln),jn=Le(pn),On=Le(vn),En=_e;(fn&&En(new fn(new ArrayBuffer(1)))!=gn||Fe&&En(new Fe)!=hn||ln&&En(ln.resolve())!=yn||pn&&En(new pn)!=dn||vn&&En(new vn)!=bn)&&(En=function(e){var t=_e(e),n="[object Object]"==t?e.constructor:void 0,r=n?Le(n):"";if(r)switch(r){case mn:return gn;case _n:return hn;case wn:return yn;case jn:return dn;case On:return bn}return t});var kn=En,Cn=Object.prototype.hasOwnProperty;var Pn=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Cn.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ln=fe.Uint8Array;var Sn=function(e){var t=new e.constructor(e.byteLength);return new Ln(t).set(new Ln(e)),t};var An=function(e,t){var n=t?Sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},xn=/\w*$/;var Tn=function(e){var t=new e.constructor(e.source,xn.exec(e));return t.lastIndex=e.lastIndex,t},In=le?le.prototype:void 0,Dn=In?In.valueOf:void 0;var Rn=function(e){return Dn?Object(Dn.call(e)):{}};var Mn=function(e,t){var n=t?Sn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Nn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Sn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return An(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Mn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Tn(e);case"[object Set]":return new r;case"[object Symbol]":return Rn(e)}},Fn=Object.create,Un=function(){function e(){}return function(t){if(!we(t))return{};if(Fn)return Fn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Vn=function(e){return"function"!=typeof e.constructor||Rt(e)?{}:Un(rn(e))};var zn=function(e){return ht(e)&&"[object Map]"==kn(e)},$n=St&&St.isMap,Wn=$n?Lt($n):zn;var Bn=function(e){return ht(e)&&"[object Set]"==kn(e)},qn=St&&St.isSet,Hn=qn?Lt(qn):Bn,Kn="[object Arguments]",Gn="[object Function]",Yn="[object Object]",Jn={};Jn[Kn]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object DataView]"]=Jn["[object Boolean]"]=Jn["[object Date]"]=Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn[Yn]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object Symbol]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Error]"]=Jn[Gn]=Jn["[object WeakMap]"]=!1;var Qn=function e(t,n,r,o,i,a){var c,u=1&n,s=2&n,f=4&n;if(r&&(c=i?r(t,o,i,a):r(t)),void 0!==c)return c;if(!we(t))return t;var l=_t(t);if(l){if(c=Pn(t),!u)return Yt(t,c)}else{var p=kn(t),v=p==Gn||"[object GeneratorFunction]"==p;if(jt(t))return Gt(t,u);if(p==Yn||p==Kn||v&&!i){if(c=s||v?{}:Vn(t),!u)return s?an(t,Kt(c,t)):tn(t,$t(c,t))}else{if(!Jn[p])return i?t:{};c=Nn(t,p,u)}}a||(a=new at);var h=a.get(t);if(h)return h;a.set(t,c),Hn(t)?t.forEach((function(o){c.add(e(o,n,r,o,t,a))})):Wn(t)&&t.forEach((function(o,i){c.set(i,e(o,n,r,i,t,a))}));var y=f?s?sn:un:s?keysIn:zt,d=l?void 0:y(t);return ct(d||t,(function(o,i){d&&(o=t[i=o]),lt(c,i,e(o,n,r,i,t,a))})),c};var Xn=function(e){return Qn(e,5)};var Zn=function(e){return e};var er=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},tr=Math.max;var nr=function(e,t,n){return t=tr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=tr(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),er(e,this,c)}};var rr=function(e){return function(){return e}},or=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:rr(t),writable:!0})}:Zn,ir=Date.now;var ar=function(e){var t=0,n=0;return function(){var r=ir(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(or);var cr=function(e,t){return ar(nr(e,t,Zn),e+"")};var ur=function(e,t,n){if(!we(n))return!1;var r=typeof t;return!!("number"==r?Vt(n)&&Et(t,n.length):"string"==r&&t in n)&&Y(n[t],e)};var sr=function(e){return cr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&ur(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))}((function(e,t){pt(t,Ht(t),e)}));function fr(){}function lr(){lr.init.call(this)}function pr(e){return void 0===e._maxListeners?lr.defaultMaxListeners:e._maxListeners}function vr(e,t,n){if(t)e.call(n);else for(var r=e.length,o=wr(e,r),i=0;i<r;++i)o[i].call(n)}function hr(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=wr(e,o),a=0;a<o;++a)i[a].call(n,r)}function yr(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=wr(e,i),c=0;c<i;++c)a[c].call(n,r,o)}function dr(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,c=wr(e,a),u=0;u<a;++u)c[u].call(n,r,o,i)}function br(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=wr(e,o),a=0;a<o;++a)i[a].apply(n,r)}function gr(e,t,n,r){var o,i,a,c;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]):(i=e._events=new fr,e._eventsCount=0),a){if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(o=pr(e))&&o>0&&a.length>o){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,"function"==typeof console.warn?console.warn(c):console.log(c)}}else a=i[t]=n,++e._eventsCount;return e}function mr(e,t,n){var r=!1;function o(){e.removeListener(t,o),r||(r=!0,n.apply(e,arguments))}return o.listener=n,o}function _r(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function wr(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}fr.prototype=Object.create(null),lr.EventEmitter=lr,lr.usingDomains=!1,lr.prototype.domain=void 0,lr.prototype._events=void 0,lr.prototype._maxListeners=void 0,lr.defaultMaxListeners=10,lr.init=function(){this.domain=null,lr.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new fr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},lr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},lr.prototype.getMaxListeners=function(){return pr(this)},lr.prototype.emit=function(e){var t,n,r,o,i,a,c,u="error"===e;if(a=this._events)u=u&&null==a.error;else if(!u)return!1;if(c=this.domain,u){if(t=arguments[1],!c){if(t instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=c,t.domainThrown=!1,c.emit("error",t),!1}if(!(n=a[e]))return!1;var f="function"==typeof n;switch(r=arguments.length){case 1:vr(n,f,this);break;case 2:hr(n,f,this,arguments[1]);break;case 3:yr(n,f,this,arguments[1],arguments[2]);break;case 4:dr(n,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),i=1;i<r;i++)o[i-1]=arguments[i];br(n,f,this,o)}return!0},lr.prototype.addListener=function(e,t){return gr(this,e,t,!1)},lr.prototype.on=lr.prototype.addListener,lr.prototype.prependListener=function(e,t){return gr(this,e,t,!0)},lr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,mr(this,e,t)),this},lr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,mr(this,e,t)),this},lr.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new fr:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length;i-- >0;)if(n[i]===t||n[i].listener&&n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new fr,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o);r.removeListener&&this.emit("removeListener",e,a||t)}return this},lr.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new fr,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new fr:delete n[e]),this;if(0===arguments.length){for(var r,o=Object.keys(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new fr,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},lr.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},lr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_r.call(e,t)},lr.prototype.listenerCount=_r,lr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var jr="change",Or=sr({emitChange:function(){this.emit(jr)},addChangeListener:function(e){this.on(jr,e)},removeChangeListener:function(e){this.removeListener(jr,e)}},lr.prototype);var Er=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var kr=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}();var Cr=function(e,t){return function(n,r){if(null==n)return n;if(!Vt(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&kr(e,t,zt)}));var Pr=function(e,t){var n=!0;return Cr(e,(function(e,r,o){return n=!!t(e,r,o)})),n};var Lr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Sr=function(e){return this.__data__.has(e)};function Ar(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new rt;++t<n;)this.add(e[t])}Ar.prototype.add=Ar.prototype.push=Lr,Ar.prototype.has=Sr;var xr=Ar;var Tr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Ir=function(e,t){return e.has(t)};var Dr=function(e,t,n,r,o,i){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(e);if(s&&i.get(t))return s==t;var f=-1,l=!0,p=2&n?new xr:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var v=e[f],h=t[f];if(r)var y=a?r(h,v,f,t,e,i):r(v,h,f,e,t,i);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!Tr(t,(function(e,t){if(!Ir(p,t)&&(v===e||o(v,e,n,r,i)))return p.push(t)}))){l=!1;break}}else if(v!==h&&!o(v,h,n,r,i)){l=!1;break}}return i.delete(e),i.delete(t),l};var Rr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Mr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Nr=le?le.prototype:void 0,Fr=Nr?Nr.valueOf:void 0;var Ur=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ln(e),new Ln(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Y(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Rr;case"[object Set]":var u=1&r;if(c||(c=Mr),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var f=Dr(c(e),c(t),r,o,i,a);return a.delete(e),f;case"[object Symbol]":if(Fr)return Fr.call(e)==Fr.call(t)}return!1},Vr=Object.prototype.hasOwnProperty;var zr=function(e,t,n,r,o,i){var a=1&n,c=un(e),u=c.length;if(u!=un(t).length&&!a)return!1;for(var s=u;s--;){var f=c[s];if(!(a?f in t:Vr.call(t,f)))return!1}var l=i.get(e);if(l&&i.get(t))return l==t;var p=!0;i.set(e,t),i.set(t,e);for(var v=a;++s<u;){var h=e[f=c[s]],y=t[f];if(r)var d=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(!(void 0===d?h===y||o(h,y,n,r,i):d)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=e.constructor,g=t.constructor;b==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(e),i.delete(t),p},$r="[object Arguments]",Wr="[object Array]",Br="[object Object]",qr=Object.prototype.hasOwnProperty;var Hr=function(e,t,n,r,o,i){var a=_t(e),c=_t(t),u=a?Wr:kn(e),s=c?Wr:kn(t),f=(u=u==$r?Br:u)==Br,l=(s=s==$r?Br:s)==Br,p=u==s;if(p&&jt(e)){if(!jt(t))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new at),a||xt(e)?Dr(e,t,n,r,o,i):Ur(e,t,u,n,r,o,i);if(!(1&n)){var v=f&&qr.call(e,"__wrapped__"),h=l&&qr.call(t,"__wrapped__");if(v||h){var y=v?e.value():e,d=h?t.value():t;return i||(i=new at),o(y,d,n,r,i)}}return!!p&&(i||(i=new at),zr(e,t,n,r,o,i))};var Kr=function e(t,n,r,o,i){return t===n||(null==t||null==n||!ht(t)&&!ht(n)?t!=t&&n!=n:Hr(t,n,r,o,e,i))};var Gr=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],s=e[u],f=c[1];if(a&&c[2]){if(void 0===s&&!(u in e))return!1}else{var l=new at;if(r)var p=r(s,f,u,e,t,l);if(!(void 0===p?Kr(f,s,3,r,l):p))return!1}}return!0};var Yr=function(e){return e==e&&!we(e)};var Jr=function(e){for(var t=zt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Yr(o)]}return t};var Qr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Xr=function(e){var t=Jr(e);return 1==t.length&&t[0][2]?Qr(t[0][0],t[0][1]):function(n){return n===e||Gr(n,e,t)}};var Zr=function(e){return"symbol"==typeof e||ht(e)&&"[object Symbol]"==_e(e)},eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/;var no=function(e,t){if(_t(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zr(e))||(to.test(e)||!eo.test(e)||null!=t&&e in Object(t))};function ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(ro.Cache||rt),n}ro.Cache=rt;var oo=ro;var io=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ao=/\\(\\)?/g,co=function(e){var t=oo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(io,(function(e,n,r,o){t.push(r?o.replace(ao,"$1"):n||e)})),t}));var uo=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},so=le?le.prototype:void 0,fo=so?so.toString:void 0;var lo=function e(t){if("string"==typeof t)return t;if(_t(t))return uo(t,e)+"";if(Zr(t))return fo?fo.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var po=function(e){return null==e?"":lo(e)};var vo=function(e,t){return _t(e)?e:no(e,t)?[e]:co(po(e))};var ho=function(e){if("string"==typeof e||Zr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var yo=function(e,t){for(var n=0,r=(t=vo(t,e)).length;null!=e&&n<r;)e=e[ho(t[n++])];return n&&n==r?e:void 0};var bo=function(e,t,n){var r=null==e?void 0:yo(e,t);return void 0===r?n:r};var go=function(e,t){return null!=e&&t in Object(e)};var mo=function(e,t,n){for(var r=-1,o=(t=vo(t,e)).length,i=!1;++r<o;){var a=ho(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&kt(o)&&Et(a,o)&&(_t(e)||mt(e))};var _o=function(e,t){return null!=e&&mo(e,t,go)};var wo=function(e,t){return no(e)&&Yr(t)?Qr(ho(e),t):function(n){var r=bo(n,e);return void 0===r&&r===t?_o(n,e):Kr(t,r,3)}};var jo=function(e){return function(t){return null==t?void 0:t[e]}};var Oo=function(e){return function(t){return yo(t,e)}};var Eo=function(e){return no(e)?jo(ho(e)):Oo(e)};var ko=function(e){return"function"==typeof e?e:null==e?Zn:"object"==typeof e?_t(e)?wo(e[0],e[1]):Xr(e):Eo(e)};var Co=function(e,t,n){var r=_t(e)?Er:Pr;return n&&ur(e,t,n)&&(t=void 0),r(e,ko(t))};function Po(e){return function(t,n,r){for(var o=0;o<t[0].length;o++)for(var i=0;i<t[0].length;i++){if(t[i][o]){var a=n.x+o,c=n.y+i;e[c]&&(e[c][a]=r)}}}}var Lo=U,So=z,Ao=V,xo=function(){for(var e=new Array(So),t=0;t<e.length;t++)e[t]=To();return e}();function To(){for(var e=new Array(Ao),t=0;t<e.length;t++)e[t]=!1;return e}var Io=Po(xo),Do=sr({getBoard:function(){return xo},setPiece:function(e,t,n){Io(e.blocks[t],n,e.className),Do.clearFullLines(),Do.emitChange()},isEmptyPosition:function(e,t,n){for(var r=e.blocks[t],o=0;o<e.blocks[0].length;o++)for(var i=0;i<e.blocks[0].length;i++){var a=r[i][o],c=o+n.x,u=i+n.y;if(a){if(!(c>=0&&c<Ao&&u<So))return!1;if(!xo[u]||xo[u][c])return!1}}return!0},clearFullLines:function(){for(var e=0,t=0;t<xo.length;t++)Co(xo[t])&&(xo.splice(t,1),xo.unshift(To()),e+=1);e&&this.emitClearedLines(e)},emitClearedLines:function(e){this.emit(Lo.LINE_CLEARED,e)}},Or);var Ro=function(e){return Qn(e,4)},Mo={I:{blocks:[[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]]],className:"piece-i"},J:{blocks:[[[0,1,0,0],[0,1,0,0],[1,1,0,0],[0,0,0,0]],[[1,0,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,1,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[0,0,1,0],[0,0,0,0]]],className:"piece-j"},L:{blocks:[[[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[1,1,1,0],[1,0,0,0],[0,0,0,0]],[[1,1,0,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,0,1,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]]],className:"piece-l"},O:{blocks:[[[1,1,0,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],[[1,1,0,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],[[1,1,0,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],[[1,1,0,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]]],className:"piece-o"},S:{blocks:[[[0,0,0,0],[0,1,1,0],[1,1,0,0],[0,0,0,0]],[[1,0,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,1,1,0],[1,1,0,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,0,1,0],[0,0,0,0]]],className:"piece-s"},T:{blocks:[[[0,0,0,0],[1,1,1,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,0,0],[0,1,0,0],[0,0,0,0]],[[0,1,0,0],[1,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,1,0,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],className:"piece-t"},Z:{blocks:[[[0,0,0,0],[1,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,1,0,0],[1,1,0,0],[1,0,0,0],[0,0,0,0]],[[1,1,0,0],[0,1,1,0],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]]],className:"piece-z"}};var No=[];function Fo(){0===No.length&&Object.keys(Mo).forEach((function(e){for(var t=0;t<4;t++)No.push(e)}));var e,t=No.splice((e=No.length,Math.floor(Math.random()*e)),1)[0];return Mo[t]}function Uo(e){this.minimumLength=e,this.queue=[],this.fill()}Uo.prototype.fill=function(){for(;this.queue.length<this.minimumLength;)this.queue.push(Fo())},Uo.prototype.getNext=function(){var e=this.queue.shift();return this.fill(),e},Uo.prototype.getQueue=function(){return this.queue};var Vo,zo,$o,Wo,Bo,qo=U,Ho=N;function Ko(){var e=Ro($o);return e.y+=1,Do.isEmptyPosition(Vo,zo,e)?($o=e,!0):(Go(),!1)}function Go(){Do.setPiece(Vo,zo,$o),ti()}function Yo(){for(var e=$o.y;Do.isEmptyPosition(Vo,zo,{y:e,x:$o.x});)e+=1;return e-1}var Jo=sr({getPieceData:function(){return{piece:Vo,rotation:zo,position:$o,previewPosition:{x:$o.x,y:Yo()},heldPiece:Wo,queue:Zo.getQueue()}},tick:function(){Qo(Ko())},dispatcherIndex:q.register((function(e){var t,n;switch(e.action.actionType){case Ho.MOVE_DOWN:Qo(Ko());break;case Ho.MOVE_LEFT:Qo(((n=Ro($o)).x-=1,!!Do.isEmptyPosition(Vo,zo,n)&&($o=n,!0)));break;case Ho.MOVE_RIGHT:Qo(function(){var e=Ro($o);return e.x+=1,!!Do.isEmptyPosition(Vo,zo,e)&&($o=e,!0)}());break;case Ho.HARD_DROP:Qo(($o.y=Yo(),void Go()));break;case Ho.FLIP_CLOCKWISE:Qo((t=(zo+1)%Vo.blocks.length,!!Do.isEmptyPosition(Vo,t,$o)&&(zo=t,!0)));break;case Ho.FLIP_COUNTERCLOCKWISE:Qo(function(){var e=zo-1;return e<0&&(e+=Vo.blocks.length),!!Do.isEmptyPosition(Vo,e,$o)&&(zo=e,!0)}());break;case Ho.HOLD:Qo(function(){if(Bo)return!1;if(Wo&&!Do.isEmptyPosition(Wo,zo,$o))return!1;var e=Wo;return Wo=Vo,Bo=!0,e?Vo=e:ti(),!0}())}return!0})),emitPlayerLost:function(){this.emit(qo.PLAYER_LOST)}},Or);function Qo(e){e&&Jo.emitChange()}var Xo,Zo=new Uo(5),ei=(Xo=Zo.getNext(),{x:V/2-Xo.blocks.length/2,y:0});function ti(){Vo=Zo.getNext(),zo=0,$o=Ro(ei),Bo=!1,Do.isEmptyPosition(Vo,zo,$o)||Jo.emitPlayerLost(),Jo.emitChange()}ti();var ni=F,ri=N,oi=U,ii=null,ai=null,ci=sr({getGameBoard:function(){if(ii===ni.LOST)return Do.getBoard();var e=Xn(Do.getBoard()),t=Jo.getPieceData(),n=Po(e);return n(t.piece.blocks[t.rotation],t.previewPosition,"piece-preview"),n(t.piece.blocks[t.rotation],t.position,t.piece.className),e},getCurrentState:function(){return ii},start:function(){ii!==ni.LOST&&(ai=v.setInterval((function(){Jo.tick()}),800),ii=ni.PLAYING,this.emitChange())},pause:function(){ii===ni.PLAYING&&(v.clearInterval(ai),ii=ni.PAUSED,this.emitChange())},onLost:function(){v.clearInterval(ai),ii=ni.LOST,this.emitChange()},dispatcherIndex:q.register((function(e){switch(e.action.actionType){case ri.PAUSE:ci.pause();break;case ri.RESUME:ci.start()}return!0}))},Or);Jo.on(oi.PLAYER_LOST,(function(){ci.onLost()})),Jo.addChangeListener((function(){ci.emitChange()})),Do.addChangeListener((function(){ci.emitChange()}));var ui=[],si=!1;document.addEventListener("keydown",(function(e){return e.shiftKey&&!si&&(si=e.shiftKey,ui.forEach((function(e){e()}))),!0})),document.addEventListener("keyup",(function(e){return!e.shiftKey&&si&&(si=e.shiftKey),!0}));var fi=function(e){ui.push(e)},li=function(e){var t=ui.indexOf(e);-1!==t&&ui.splice(t,1)},pi=F;function vi(){return{gameBoard:ci.getGameBoard()}}var hi={down:K.moveDown,left:K.moveLeft,right:K.moveRight,space:K.hardDrop,z:K.flipCounterclockwise,x:K.flipClockwise,up:K.flipClockwise,p:function(){ci.getCurrentState()===pi.PLAYING?K.pause():K.resume()},c:K.hold,shift:K.hold};var yi=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e))._onChange=function(){r.setState(vi())},r.state=vi(),r}return c(n,[{key:"componentWillMount",value:function(){ci.addChangeListener(this._onChange),Object.keys(hi).forEach((function(e){"shift"===e?fi(hi[e]):M(e,hi[e])})),ci.start()}},{key:"componentWillUnmount",value:function(){Object.keys(hi).forEach((function(e){"shift"===e?li(hi[e]):M.unbind(e)})),ci.pause(),ci.removeChangeListener(this._onChange)}},{key:"render",value:function(){var e=this.state.gameBoard.map((function(e,t){var n=e.map((function(e,t){var n="game-block ".concat(e||"block-empty");return o.createElement("td",{key:t,className:n})}));return o.createElement("tr",{key:t},n)}));return o.createElement("table",{className:"game-board"},o.createElement("tbody",null,e))}}]),n}(o.Component),di=U,bi=0,gi=0,mi=sr({getPoints:function(){return bi},getLinesCleared:function(){return gi},addPoints:function(e){bi+=e,this.emitChange()}},Or);Do.on(di.LINE_CLEARED,(function(e){gi+=e,4===e?mi.addPoints(1e3):mi.addPoints(100*e)}));var _i=function(e){var t=e.piece.blocks[0].map((function(t,n){var r=t.map((function(t,n){var r="game-block ";return r+=t?e.piece.className:"block-empty",o.createElement("td",{key:n,className:r})}));return o.createElement("tr",{key:n},r)}));return o.createElement("table",{className:"piece-view"},o.createElement("tbody",null,t))};function wi(){return{piece:Jo.getPieceData().heldPiece}}_i.propTypes={piece:R.shape({blocks:R.arrayOf(R.arrayOf(R.arrayOf(R.number)))})},_i.defaultProps={piece:{blocks:[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}};var ji=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e))._onChange=function(){r.setState(wi())},r.state=wi(),r}return c(n,[{key:"componentWillMount",value:function(){Jo.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){Jo.removeChangeListener(this._onChange)}},{key:"render",value:function(){return o.createElement(_i,{piece:this.state.piece})}}]),n}(o.Component);function Oi(){return{queue:Jo.getPieceData().queue}}var Ei=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e))._onChange=function(){r.setState(Oi())},r.state=Oi(),r}return c(n,[{key:"componentWillMount",value:function(){Jo.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){Jo.removeChangeListener(this._onChange)}},{key:"render",value:function(){var e=this.state.queue.map((function(e,t){return o.createElement(_i,{piece:e,key:t})}));return o.createElement("div",null,e)}}]),n}(o.Component);function ki(){return{points:mi.getPoints(),linesCleared:mi.getLinesCleared()}}var Ci=function(e){u(n,e);var t=p(n);function n(e){var r;return i(this,n),(r=t.call(this,e))._onChange=function(){r.setState(ki())},r.state=ki(),r}return c(n,[{key:"componentWillMount",value:function(){mi.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){mi.removeChangeListener(this._onChange)}},{key:"render",value:function(){var e=this.state,t=e.points,n=e.linesCleared;return this.props.children({HeldPiece:ji,Gameboard:yi,PieceQueue:Ei,points:t,linesCleared:n})}}]),n}(o.Component);Ci.propTypes={children:R.func.isRequired},e.exports=Ci}}]);
//# sourceMappingURL=66.js.map